<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>barcodactyl — Split barcodes</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Bootstrap Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
  <link rel="stylesheet" href="src/elements/styles.css" />
  <meta name="description" content="barcodactyl — Split ONT Dorado barcoded reads into per-barcode FASTQ, SAM, or BAM files."/>
</head>
<body>
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg border-bottom bg-body sticky-top shadow-sm">
    <div class="container">
      <a class="navbar-brand fw-bold" href="#top"><i class="bi bi-scissors me-2"></i>barcodactyl</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#nav" aria-controls="nav" aria-expanded="false">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="nav">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item"><a class="nav-link" href="#features">Features</a></li>
          <li class="nav-item"><a class="nav-link" href="#install">Install</a></li>
          <li class="nav-item"><a class="nav-link" href="#usage">Usage</a></li>
          <li class="nav-item"><a class="nav-link" href="#summary">Summary</a></li>
        </ul>
        <div class="d-flex align-items-center gap-2">
          <a href="https://pypi.org/project/barcodactyl/" class="btn btn-outline-primary btn-sm"><i class="bi bi-box-seam me-1"></i>PyPI</a>
          <a href="https://github.com/aeiwz/barcodactyl" class="btn btn-dark btn-sm"><i class="bi bi-github me-1"></i>GitHub</a>
          <button class="btn btn-outline-secondary btn-sm" id="themeToggle" aria-label="Toggle theme"><i class="bi bi-moon-stars"></i></button>
        </div>
      </div>
    </div>
  </nav>

  <!-- Hero -->
  <header class="hero text-white text-center" id="top">
    <div class="container py-5">
      <h1 class="display-5 fw-bold"><i class="bi bi-scissors me-2"></i>barcodactyl</h1>
      <p class="lead opacity-95">Split ONT Dorado barcoded reads into per-barcode <strong>FASTQ</strong>, <strong>SAM</strong>, or <strong>BAM</strong> files.</p>
      <div class="d-flex flex-wrap justify-content-center gap-2 mt-2">
        <span class="badge text-bg-light text-dark"><i class="bi bi-cpu me-1"></i>Streaming</span>
        <span class="badge text-bg-light text-dark"><i class="bi bi-filetype-json me-1"></i>Regex-based</span>
        <span class="badge text-bg-light text-dark"><i class="bi bi-archive me-1"></i>FASTQ(.gz), SAM, BAM</span>
      </div>
    </div>
    <div class="hero-glow"></div>
  </header>

  <main class="container my-5">
    <!-- Features -->
    <section id="features" class="mb-4">
      <div class="card card-glass shadow-sm">
        <div class="card-body">
          <h2 class="h4 text-primary mb-3"><i class="bi bi-stars me-2"></i>Features</h2>
          <ul class="mb-0">
            <li>Supports <strong>FASTQ(.gz)</strong>, <strong>SAM</strong>, and <strong>BAM</strong> input</li>
            <li>Outputs per-barcode files plus an <code>unassigned</code> bin</li>
            <li>Preserves input format by default (FASTQ→FASTQ, SAM→SAM, BAM→BAM)</li>
            <li>Regex-based barcode detection (default: <code>_barcodeNN</code>, checks read name and <code>RG</code> tag)</li>
            <li>Streaming implementation for large datasets</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- Install -->
    <section id="install" class="mb-4">
      <div class="card card-glass shadow-sm">
        <div class="card-body">
          <h2 class="h4 text-success mb-3"><i class="bi bi-download me-2"></i>Install</h2>
          <pre class="code-block bg-dark text-light rounded position-relative p-3"><button class="btn btn-sm btn-outline-light copy" aria-label="Copy"><i class="bi bi-clipboard"></i></button><code>pip install barcodactyl</code></pre>
        </div>
      </div>
    </section>

    <!-- Usage -->
    <section id="usage" class="mb-4">
      <div class="card card-glass shadow-sm">
        <div class="card-body">
          <h2 class="h4 text-warning mb-3"><i class="bi bi-terminal me-2"></i>Usage</h2>
          <pre class="code-block bg-dark text-light rounded position-relative p-3"><button class="btn btn-sm btn-outline-light copy" aria-label="Copy"><i class="bi bi-clipboard"></i></button><code># Default: output format matches input
barcodactyl reads.fastq -o out/

# Force output format
barcodactyl reads.bam -o out/ --out-format sam

# Add prefix
barcodactyl reads.fastq --prefix run1_

# Custom regex
barcodactyl reads.sam --pattern "_bc(\d{2})"</code></pre>
        </div>
      </div>
    </section>

    <!-- Summary -->
    <section id="summary" class="mb-4">
      <div class="card card-glass shadow-sm">
        <div class="card-body">
          <h2 class="h4 text-info mb-3"><i class="bi bi-bar-chart-line me-2"></i>Output summary</h2>
          <pre class="code-block bg-dark text-light rounded position-relative p-3"><button class="btn btn-sm btn-outline-light copy" aria-label="Copy"><i class="bi bi-clipboard"></i></button><code>=== Per-barcode counts ===
barcode01    15,423
barcode02    18,902
unassigned      324
Total reads written: 34,649</code></pre>
        </div>
      </div>
    </section>
  </main>

  <footer class="py-4 border-top text-center text-muted small">
    © 2025 Theerayut - barcodactyl · MIT License · Built with bootstrap
  </footer>

  <script src="src/elements/functions.js" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
